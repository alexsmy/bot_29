// static/js/call_logger_config.js

/**
 * ПУЛЬТ УПРАВЛЕНИЯ ЛОГАМИ КЛИЕНТА
 * 
 * Этот файл позволяет гибко настраивать, какие события будут отображаться 
 * в консоли браузера и/или отправляться на сервер для анализа.
 * 
 * console: true  -> сообщение будет выведено в консоль разработчика (F12).
 * server:  true  -> сообщение будет отправлено на бэкенд (/log).
 * 
 * Вы можете включать и отключать логи по категориям, чтобы сосредоточиться
 * на конкретной проблеме или уменьшить "шум" в логах на продакшене.
 */

const LOG_CONFIG = {
    // ========================================================================
    // == ОБЯЗАТЕЛЬНЫЕ ЛОГИ ==
    // Эти логи критически важны для понимания жизненного цикла сессии.
    // Отключать их не рекомендуется.
    // ========================================================================
    MANDATORY: {
        // Запуск и основные этапы инициализации приложения
        APP_LIFECYCLE:      { console: true,  server: true  },
        // Критические ошибки, которые могут нарушить работу приложения
        CRITICAL_ERROR:     { console: true,  server: true  },
        // Начало и завершение сессии звонка (не путать с WebSocket соединением)
        CALL_SESSION:       { console: true,  server: true  },
    },

    // ========================================================================
    // == ФУНКЦИОНАЛЬНЫЕ ЛОГИ ==
    // Логи, описывающие работу основных модулей. Полезны для отладки
    // конкретных функций (WebRTC, WebSocket, работа с медиа и т.д.).
    // ========================================================================
    FUNCTIONAL: {
        // Жизненный цикл WebSocket: подключение, отключение, переподключение
        WEBSOCKET_LIFECYCLE: { console: true,  server: true  },
        // Получение и отправка сообщений через WebSocket
        WEBSOCKET_MESSAGES:  { console: false, server: true },
        // Жизненный цикл PeerConnection: создание, закрытие
        WEBRTC_LIFECYCLE:    { console: true,  server: true  },
        // Обмен сигналами (offer, answer, candidate)
        WEBRTC_SIGNALS:      { console: false, server: true },
        // Запрос, получение и остановка медиа-потоков (камера, микрофон)
        MEDIA_DEVICES:       { console: true,  server: true  },
        // Логика звонка: вызов, принятие, отклонение, завершение
        CALL_FLOW:           { console: true,  server: true  },
        // Работа рекордера: старт, стоп, создание и отправка чанков
        RECORDER:            { console: true,  server: true  },
        // Работа скриншотера
        SCREENSHOT:          { console: true,  server: true  },
    },

    // ========================================================================
    // == ДЕБАГ-ЛОГИ (ОТЛАДОЧНЫЕ) ==
    // Очень "шумные" или часто повторяющиеся логи. Включайте их только
    // при необходимости детальной отладки конкретного аспекта.
    // ========================================================================
    DEBUG: {
        // Изменение состояния ICE (проверка соединений)
        WEBRTC_ICE_STATE:    { console: false, server: false },
        // Периодическая статистика WebRTC (качество соединения)
        CONNECTION_STATS:    { console: false, server: false },
        // Взаимодействия пользователя с UI (нажатия кнопок)
        UI_INTERACTIONS:     { console: false, server: truee },
        // Переключение устройств (микрофон, камера)
        DEVICE_SWITCH:       { console: true,  server: true  },
        // Работа с SinkId (переключение динамиков)
        SINK_ID:             { console: true,  server: true  },
    },
};